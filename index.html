<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Sam Fortunato</title>

        <link rel="stylesheet" href="./index.css">
    </head>

    <body>
        <h1>Sam Fortunato</h1>
        <h2>art, music, tech, games</h2>

        <form id="contact-form" action="https://formspree.io/f/mkgbpozk" method="post">
            <label for="email">Email</label>
            <input type="email" name="email" id="email" autocomplete="email" required />

            <label for="message">Message</label>
            <textarea name="message" id="message" required></textarea>

            <div class="submit-row">
                <span class="success-message" id="success-message">
                    <svg id="checkmark" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                        stroke-width="1.5">
                        <circle cx="12" cy="12" r="10" />
                        <path d="m9 12 2 2 4-4" />
                    </svg> Submitted successfully.</span>
                <input type="submit" value="Submit" />
            </div>
        </form>

        <script>
            document.getElementById('contact-form').addEventListener('submit', async function (e) {
                e.preventDefault();

                const form = e.target;
                const formData = new FormData(form);
                const successMessage = document.getElementById('success-message');
                const submitButton = form.querySelector('input[type="submit"]');

                // Show loading state
                submitButton.value = 'Sending...';
                submitButton.disabled = true;

                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: formData,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    if (response.ok) {
                        // Show success message
                        successMessage.classList.add('show');
                        form.reset();

                        // Hide success message after 5 seconds
                        setTimeout(() => {
                            successMessage.classList.remove('show');
                        }, 5000);
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    alert('Error submitting form. Please try again.');
                } finally {
                    // Reset button
                    submitButton.value = 'Submit';
                    submitButton.disabled = false;
                }
            });
        </script>
    </body>

</html>
